(this["webpackJsonptext-analyzer"]=this["webpackJsonptext-analyzer"]||[]).push([[0],{262:function(e,t,n){},358:function(e,t,n){},632:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n.n(c),r=n(136),o=n.n(r),i=(n(262),n(257)),s=n(95),l=n(13),d=(n(357),n(358),n(54)),u=n.n(d),b=n(256),f=n(254),j=n(253),O=n(255),h=n(6),g=l.KeyBindingUtil.hasCommandModifier,v=new u.a.WordPunctTokenizer,C=new u.a.Lexicon("EN","N","NNP"),p=new u.a.RuleSet("EN"),N=new u.a.BrillPOSTagger(C,p),y={NOUN:{backgroundColor:"#EFE347"},VERB:{backgroundColor:"#EFA675"},ADJECTIVE:{backgroundColor:"#D291BC"},ADVERB:{backgroundColor:"#FFDFD3"},PUNCTUATION:{backgroundColor:"white"}};function m(e){var t=Object(c.useState)(l.EditorState.createEmpty()),n=Object(s.a)(t,2),a=n[0],r=n[1],o=Object(c.useRef)(null);function d(){o.current.focus()}Object(c.useEffect)((function(){d()}),[]);var u=Object(c.useState)(!1),O=Object(s.a)(u,2),C=O[0],p=O[1];Object(c.useEffect)((function(){if(C){var e=a;e.getCurrentContent().getBlockMap().map((function(t){var n=l.SelectionState.createEmpty(t.key),c=v.tokenize(t.text),a=N.tag(c).taggedWords,r=0;c.forEach((function(c,o){r=t.text.indexOf(c,r),n=n.merge({anchorOffset:r,focusOffset:r+c.length});var i=function(e,t){if("\u2014"===t)return"PUNCTUATION";switch(e){case".":case",":case"(":case")":return"PUNCTUATION";case"JJ":case"JJR":case"JJS":return"ADJECTIVE";case"VB":case"VBD":case"VBG":case"VBN":case"VBP":case"VBZ":case"VBT":return"VERB";case"RB":case"RBR":case"RBS":case"WRB":return"ADVERB";case"NN":case"NNS":case"NNP":case"NNPS":case"NN":case"PRP":case"WP":return"NOUN"}}(a[o].tag,c);if(i){var s=l.Modifier.applyInlineStyle(e.getCurrentContent(),n,i);e=l.EditorState.push(e,s,"change-inline-style")}r+=c.length}))})),r(e),p(!1)}}),[C]);var m=Object(c.useState)(null),x=Object(s.a)(m,2),k=x[0],S=x[1];function E(e,t,n){var c=e||a.getSelection(),o=t||a.getCurrentContent();Object.keys(y).forEach((function(e){e!==n&&(o=l.Modifier.removeInlineStyle(o,c,e))})),r(l.EditorState.push(a,o,"change-inline-style"))}function B(e){var t=a.getSelection();t.getAnchorOffset()!==t.getFocusOffset()&&E(t,l.Modifier.applyInlineStyle(a.getCurrentContent(),t,e),e)}return Object(h.jsxs)("div",{onClick:d,className:"editor-container",children:[Object(h.jsx)(b.a,{enabled:!0,children:Object(h.jsxs)("div",{className:"button-container",onMouseDown:function(e){return e.preventDefault()},children:[Object(h.jsxs)("div",{className:"left-buttons-container",children:[Object(h.jsx)("button",{onClick:function(){return p(!0)},children:"Auto-tag"}),Object(h.jsxs)("div",{className:"save-load-btns",children:[Object(h.jsx)("button",{onClick:function(){var e=a.getCurrentContent(),t=Object(l.convertToRaw)(e),n=JSON.stringify(t),c=new Blob([n],{type:"json"});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(c,"draft.json");else{var r=document.createElement("a"),o=URL.createObjectURL(c);r.href=o,r.download="draft.json",document.body.appendChild(r),r.click(),setTimeout((function(){document.body.removeChild(r),window.URL.revokeObjectURL(o)}),0)}},children:"Save"}),Object(h.jsx)("label",{for:"file-select",children:"Load"}),Object(h.jsx)("input",{type:"file",onChange:function(e){var t=e.target.files[0],n=new FileReader;n.onload=function(e){var t=JSON.parse(e.target.result),n=Object(l.convertFromRaw)(t);r(l.EditorState.createWithContent(n))},n.readAsText(t)},id:"file-select"})]})]}),Object(h.jsxs)("div",{className:"pos-toolbar",children:[Object(h.jsx)("div",{style:{alignSelf:"center"},children:Object(h.jsx)("button",{className:"clear-style-btn",onClick:function(){return E()},children:Object(h.jsx)(j.a,{})})}),Object.keys(y).map((function(e){return Object(h.jsxs)("div",{className:"pos-buttons",children:[Object(h.jsxs)("div",{className:"pos-row",children:[Object(h.jsx)("div",{className:"pos-color",style:{backgroundColor:y[e].backgroundColor}}),Object(h.jsx)("button",{className:"filter-btn ".concat(k===e?"filtered":""),onClick:function(t){t.preventDefault(),S(k===e?null:e)},children:Object(h.jsx)(f.a,{})})]}),Object(h.jsx)("button",{className:"pos-button",onClick:function(t){t.preventDefault(),B(e)},children:e})]})}))]})]})}),Object(h.jsx)(l.Editor,Object(i.a)({ref:o,editorState:a,customStyleFn:function(e,t){var n=e.toJS()[0];return k?k===n?{backgroundColor:"transparent"}:{backgroundColor:"transparent",opacity:.1}:n&&y[n]?y[n]:void 0},onChange:function(e){return r(e)},handleKeyCommand:function(e){return"noun"===e?(B("NOUN"),"handled"):"verb"===e?(B("VERB"),"handled"):"adjective"===e?(B("ADJECTIVE"),"handled"):"adverb"===e?(B("ADVERB"),"handled"):"punctuation"===e?(B("PUNCTUATION"),"handled"):"clearTag"===e?(E(),"handled"):"not-handled"},keyBindingFn:function(e){return 66===e.keyCode&&g(e)?"noun":71===e.keyCode&&g(e)?"verb":74===e.keyCode&&g(e)?"adjective":75===e.keyCode&&g(e)?"adverb":72===e.keyCode&&g(e)?"punctuation":73===e.keyCode&&g(e)?"clearTag":Object(l.getDefaultKeyBinding)(e)},preserveSelectionOnBlur:!0,placeholder:"Enter text here",readOnly:C},e),k)]})}var x=function(){return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(m,{}),Object(h.jsx)("div",{className:"github-link",children:Object(h.jsxs)("a",{href:"https://github.com/ryapapap/prose-tagger",children:[" Source ",Object(h.jsx)(O.a,{})]})})]})},k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,633)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),r(e),o(e)}))};o.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(x,{})}),document.getElementById("root")),k()}},[[632,1,2]]]);
//# sourceMappingURL=main.1e86760c.chunk.js.map